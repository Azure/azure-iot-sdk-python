# Microsoft Azure IoT device SDK for Python

The Azure IoT device SDK for Python allows to build devices that communicate with Azure IoT Hub.

## Features

Use the device SDK to:
* Send event data to Azure IoT Hub.
* Receive messages from IoT Hub.
* Communicate with the service via AMQP, MQTT or HTTP.
* Synchronize an Azure IoT Hub device Twin with Azure IoT Hub from a device
* Implement Azure IoT Hub Direct Device Methods on devices
* Implement Azure IoT Device Mangement features on devices

## How to use the Azure IoT device SDK for Python

* [Get started in minutes with the PyPI package][PyPI-install-instructions]
* [Check out the simple samples provided in this repository][run-samples]

## Application development guides
For more information on how to use this library refer to the documents below:
- [Prepare your Python development environment][devbox-setup]
- [Setup IoT Hub and provision devices][setup-iothub]
- [Run a Python sample application][run-samples]

## Samples
Whithin the repository, you can find various types of simple samples that can help you get started.
And if you are looking for end to end samples that show how to do simple analytics and processing of the data generated by your device using Azure services such as Stream Analytics, Big Data, Machine Learning and others, check out our [E2E samples gallery](http://aka.ms/azureiotsamples).
To run the samples, you can follow [these instructions][run-samples]

* [Simple Sample](samples/iothub_client_sample.py): shows how to connect to IoT Hub and send and receive messages using the AMQP, MQTT or HTTP protocol.
* [Class Sample using AMQP](samples/iothub_client_sample_class.py): shows how to connect to IoT Hub with a HubManager class to send and receive messages using the AMQP protocol.
* [Simple Sample X-509](samples/iothub_client_sample_x509.py):  shows how to authenticate a device using X-509 certs and send and receive messages.

## Directory structure

Device SDK subfolders under **device**:

### /iothub_client_python

C Source of the Python extension module. This module wraps the IoT Hub C SDK as extension module for Python. The C extension interface is specific to CPython and it does not work on other implementations.

### /samples

Sample Python applications excercising basic features using AMQP, MQTT and HTTP.

### /tests

Python C extension module unit tests. The unit tests exercise a mocked Python extension module to test the Python interface. 

[setup-iothub]: https://aka.ms/howtocreateazureiothub
[devbox-setup]: ../doc/python-devbox-setup.md
[run-samples]: ../doc/python-run-sample.md
[PyPI-install-instructions]: ../doc/python-devbox-setup.md#windows-wheels
